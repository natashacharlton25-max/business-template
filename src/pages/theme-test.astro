---
import Layout from '../components/layout/Layout.astro';
import PageHeader from '../components/layout/PageHeader.astro';
import LinkButton from '../components/ui/buttons/LinkButton.astro';
import { Card, Notification } from 'accessible-astro-components';
import AccessibilityButton from '../components/ui/buttons/AccessibilityButton.astro';
---



<Layout title="Theme Test - Light & Dark Mode">
  <PageHeader title="Theme Test" />

  <div class="container section page-content">
    <div class="theme-test-page">

      <!-- Header Section -->
      <section class="test-section">
        <h1>Theme Test Page</h1>
        <p>This page demonstrates the light and dark theme system using colors from client.config.js and the dark theme CSS file.</p>
        <p class="instructions">
          <strong>Toggle dark mode:</strong> Use the dark mode button in the top-right corner to test both themes.
        </p>
      </section>

      <!-- Color Palette Display -->
      <section class="test-section">
        <h2>Color System</h2>
        <div class="color-grid">
          <div class="color-item">
            <div class="color-swatch bg-primary"></div>
            <p>Primary</p>
          </div>
          <div class="color-item">
            <div class="color-swatch bg-secondary"></div>
            <p>Secondary</p>
          </div>
          <div class="color-item">
            <div class="color-swatch bg-accent1"></div>
            <p>Accent 1</p>
          </div>
          <div class="color-item">
            <div class="color-swatch bg-accent2"></div>
            <p>Accent 2</p>
          </div>
          <div class="color-item">
            <div class="color-swatch bg-accent3"></div>
            <p>Accent 3</p>
          </div>
        </div>
      </section>

      <!-- Typography Test -->
      <section class="test-section">
        <h2>Typography System</h2>

        <!-- Display & Headings -->
        <div class="typography-group">
          <h3>Display Text</h3>
          <div class="display-1">Display 1 - Bold Hero</div>
          <div class="display-1-caps">Display 1 Caps - Brand Statement</div>
          <div class="display-1-thin">Display 1 Thin - Elegant Hero</div>
          <div class="display-2">Display 2 - Strong Title</div>
          <div class="display-2-caps">Display 2 Caps - Call to Action</div>
          <div class="display-2-thin">Display 2 Thin - Refined Message</div>
        </div>

        <!-- Headings -->
        <div class="typography-group">
          <h3>Headings & Variations</h3>
          <h1>Heading 1 - Standard</h1>
          <div class="h1-caps">H1 Caps - Brand Title</div>
          <div class="h1-thin">H1 Thin - Sophisticated Header</div>
          <h2>Heading 2 - Standard</h2>
          <div class="h2-caps">H2 Caps - Section Label</div>
          <div class="h2-thin">H2 Thin - Elegant Section</div>
          <h3>Heading 3 - Standard</h3>
          <div class="h3-caps">H3 Caps - Category Title</div>
          <div class="h3-thin">H3 Thin - Subtle Heading</div>
        </div>

        <!-- Body Text -->
        <div class="typography-group">
          <h3>Body Text & Variations</h3>
          <p class="body-1">Body 1 - Standard large text for introductions</p>
          <p class="body-1-caps">Body 1 Caps - Attention-grabbing intro</p>
          <p class="body-1-thin">Body 1 Thin - Elegant and refined large text</p>
          <p class="body-2">Body 2 - Regular paragraph text for content</p>
          <p class="body-2-caps">Body 2 Caps - Important highlighted text</p>
          <p class="body-2-bold">Body 2 Bold - Emphasized content text</p>
          <p class="body-small">Body Small - Secondary information</p>
          <p class="body-small-caps">Body Small Caps - Micro labels and tags</p>
        </div>

        <!-- Subtitles -->
        <div class="typography-group">
          <h3>Subtitles & Meta</h3>
          <div class="subtitle-1">Subtitle 1 - Large subtitle for sections</div>
          <div class="subtitle-2">Subtitle 2 - Medium subtitle for components</div>
          <div class="subtitle-small">Subtitle Small - Micro labels</div>
          <div class="meta-text">Meta Text - Timestamps, categories</div>
          <div class="caption">Caption - Image descriptions and fine print</div>
        </div>

        <!-- Quotes -->
        <div class="typography-group">
          <h3>Quotes & Special Text</h3>
          <blockquote class="quote">This is a large quote for testimonials and important statements.</blockquote>
          <p class="quote-small">This is a smaller quote for inline testimonials.</p>
        </div>

        <!-- Code -->
        <div class="typography-group">
          <h3>Code & Monospace</h3>
          <p>Inline code: <code class="code-inline">const theme = 'awesome';</code></p>
          <pre class="code-block">// Code block example
const brandColors = &#123;
  primary: '&#123;clientConfig.colors.primary&#125;',
  secondary: '&#123;clientConfig.colors.secondary&#125;'
&#125;;</pre>
        </div>

        <!-- Brand Colors -->
        <div class="typography-group">
          <h3>Brand Text Colors</h3>
          <p class="text-brand">Primary brand color text</p>
          <p class="text-brand-secondary">Secondary brand color text</p>
          <p class="text-brand-accent1">Accent 1 brand color text</p>
          <p class="text-brand-accent2">Accent 2 brand color text</p>
          <p class="text-brand-accent3">Accent 3 brand color text</p>
        </div>

        <!-- Font Weights -->
        <div class="typography-group">
          <h3>Font Weights</h3>
          <p class="font-thin">Thin weight text</p>
          <p class="font-light">Light weight text</p>
          <p class="font-normal">Normal weight text</p>
          <p class="font-medium">Medium weight text</p>
          <p class="font-semibold">Semibold weight text</p>
          <p class="font-bold">Bold weight text</p>
          <p class="font-extrabold">Extra bold weight text</p>
          <p class="font-black">Black weight text</p>
        </div>

        <!-- Typography Utilities -->
        <div class="typography-group">
          <h3>Typography Utilities</h3>
          <p class="uppercase tracking-wider">Uppercase with wide tracking</p>
          <p class="capitalize">Capitalized text example</p>
          <p class="tracking-tight">Text with tight letter spacing</p>
          <p class="tracking-wide">Text with wide letter spacing</p>
          <p class="leading-tight">Text with tight line height for compact layouts.</p>
          <p class="leading-relaxed">Text with relaxed line height for better readability and breathing room.</p>
        </div>

      </section>

      <!-- Button Tests -->
      <section class="test-section">
        <h2>Buttons</h2>

        <h3>LinkButton Components (with glint animation)</h3>
        <div class="button-group">
          <LinkButton text="Primary Button" variant="primary" size="medium" />
          <LinkButton text="Secondary Button" variant="secondary" size="medium" />
          <LinkButton text="Small Primary" variant="primary" size="small" />
          <LinkButton text="Large Secondary" variant="secondary" size="large" />
        </div>

        <h3>AccessibilityButton Component (no glint, uses client config colors)</h3>
        <div class="button-group">
          <AccessibilityButton text="Accessibile" />
          <AccessibilityButton>Accessibile</AccessibilityButton>
          <AccessibilityButton text="Disabled Button" disabled />
        </div>

      </section>


      <!-- Card Tests -->
      <section class="test-section">
        <h2>Cards & Surfaces</h2>
        <div class="card-grid">
          <Card>
            <h3>Card Title</h3>
            <p>This card should adapt to both light and dark themes with proper surface colors and text contrast.</p>
            <LinkButton text="Card Action" variant="primary" size="medium" />
          </Card>

          <Card>
            <h3>Another Card</h3>
            <p>Cards use theme surface colors that change between light and dark mode.</p>
            <LinkButton text="Secondary Action" variant="secondary" size="medium" />
          </Card>

          <Card>
            <h3>Third Card</h3>
            <p>Hover over cards to see the elevated surface effect.</p>
            <LinkButton text="Outline Action" variant="secondary" size="medium" />
          </Card>
        </div>
      </section>

      <!-- Notifications Test -->
      <section class="test-section">
        <h2>Notifications (Brand Colors)</h2>

        <div class="notification-grid">
          <Notification>
            <p><strong>Default:</strong> Uses primary brand color from client config.</p>
          </Notification>

          <Notification type="info">
            <p><strong>Info:</strong> Uses accent1 brand color for informational messages.</p>
          </Notification>

          <Notification type="success">
            <p><strong>Success:</strong> Uses accent2 brand color for success messages.</p>
          </Notification>

          <Notification type="warning">
            <p><strong>Warning:</strong> Uses accent3 brand color for warning messages.</p>
          </Notification>

          <Notification type="error">
            <p><strong>Error:</strong> Uses secondary brand color for error messages.</p>
          </Notification>
        </div>
      </section>

      <!-- Background Testing Section -->
      <section class="test-section">
        <h2>Background Theme Testing</h2>

        <div class="test-info">
          <h3>Background Color Options</h3>
          <p>Test different accessibility background themes. These are hardcoded in <code>styles/accessibility/theme.css</code> and separate from brand colors in <code>client.config.js</code>.</p>
          <ul>
            <li><strong>Beige:</strong> Uses brand background from client.config.js</li>
            <li><strong>Cream:</strong> Warm cream background for comfort</li>
            <li><strong>Light Gray:</strong> Clean light gray for softer contrast</li>
            <li><strong>Light Pink:</strong> Gentle pink tone for warmth</li>
            <li><strong>Light Blue:</strong> Calm blue tone for focus</li>
            <li><strong>Black & White:</strong> High contrast for accessibility</li>
          </ul>
          <p><strong>Architecture:</strong> Brand colors (buttons, accents) remain unchanged while background/text colors switch for accessibility.</p>
        </div>

        <div class="test-controls">
          <h3>Background Controls</h3>
          <p>Click any button to instantly change the background theme:</p>
          <div class="control-buttons">
            <button class="test-btn active" data-background="default" onclick="testBackgroundColor('default')">Beige</button>
            <button class="test-btn" data-background="cream" onclick="testBackgroundColor('cream')">Cream</button>
            <button class="test-btn" data-background="light-gray" onclick="testBackgroundColor('light-gray')">Light Gray</button>
            <button class="test-btn" data-background="light-pink" onclick="testBackgroundColor('light-pink')">Light Pink</button>
            <button class="test-btn" data-background="light-blue" onclick="testBackgroundColor('light-blue')">Light Blue</button>
            <button class="test-btn" data-background="black-white" onclick="testBackgroundColor('black-white')">Black & White</button>
          </div>
        </div>

        <div class="test-status" id="accessibility-test-status">
          <p><strong>Current:</strong> Beige background</p>
        </div>
      </section>

      <!-- Line Spacing Testing Section -->
      <section class="test-section">
        <h2>Line Spacing Testing</h2>

        <div class="test-info">
          <h3>Line Spacing Options</h3>
          <p>Adjust line spacing for better readability. These settings use relative units and apply globally.</p>
          <ul>
            <li><strong>Default:</strong> Uses typography system line heights</li>
            <li><strong>Small:</strong> Slightly increased (1.4)</li>
            <li><strong>Medium:</strong> Comfortable reading (1.6)</li>
            <li><strong>Large:</strong> Relaxed spacing (1.8)</li>
            <li><strong>XL:</strong> Extra loose for accessibility (2.2)</li>
          </ul>
        </div>

        <div class="test-controls">
          <h3>Line Spacing Controls</h3>
          <p>Click any button to adjust line spacing:</p>
          <div class="control-buttons">
            <button class="test-btn active" data-line="default" onclick="testLineSpacing('default')">Default</button>
            <button class="test-btn" data-line="small" onclick="testLineSpacing('small')">Small</button>
            <button class="test-btn" data-line="medium" onclick="testLineSpacing('medium')">Medium</button>
            <button class="test-btn" data-line="large" onclick="testLineSpacing('large')">Large</button>
            <button class="test-btn" data-line="xl" onclick="testLineSpacing('xl')">XL</button>
          </div>
        </div>

        <div class="test-status" id="line-test-status">
          <p><strong>Current:</strong> Default line spacing</p>
        </div>
      </section>

      <!-- Character Spacing Testing Section -->
      <section class="test-section">
        <h2>Character Spacing Testing</h2>

        <div class="test-info">
          <h3>Character Spacing Options</h3>
          <p>Adjust letter spacing for better readability. Helpful for dyslexia and visual processing.</p>
          <ul>
            <li><strong>Default:</strong> Uses typography system letter spacing</li>
            <li><strong>Small:</strong> Slight spacing (0.025em)</li>
            <li><strong>Medium:</strong> Comfortable spacing (0.05em)</li>
            <li><strong>Large:</strong> Increased spacing (0.1em)</li>
            <li><strong>XL:</strong> Maximum spacing (0.15em)</li>
          </ul>
        </div>

        <div class="test-controls">
          <h3>Character Spacing Controls</h3>
          <p>Click any button to adjust character spacing:</p>
          <div class="control-buttons">
            <button class="test-btn active" data-char="default" onclick="testCharSpacing('default')">Default</button>
            <button class="test-btn" data-char="small" onclick="testCharSpacing('small')">Small</button>
            <button class="test-btn" data-char="medium" onclick="testCharSpacing('medium')">Medium</button>
            <button class="test-btn" data-char="large" onclick="testCharSpacing('large')">Large</button>
            <button class="test-btn" data-char="xl" onclick="testCharSpacing('xl')">XL</button>
          </div>
        </div>

        <div class="test-status" id="char-test-status">
          <p><strong>Current:</strong> Default character spacing</p>
        </div>
      </section>

      <!-- Font Theme Testing Section -->
      <section class="test-section">
        <h2>Font Theme Testing</h2>

        <div class="test-info">
          <h3>Font Theme Options</h3>
          <p>Choose accessibility-focused fonts designed for improved readability and comprehension.</p>
          <ul>
            <li><strong>System:</strong> Uses clean system fonts (Inter, Helvetica, Arial)</li>
            <li><strong>OpenDyslexic:</strong> Designed to increase reading proficiency for dyslexic readers</li>
            <li><strong>Lexend:</strong> Research-backed font proven to improve reading comprehension</li>
            <li><strong>Readable:</strong> High readability system font stack</li>
          </ul>
          <p><strong>Note:</strong> OpenDyslexic is loaded locally, Lexend from Google Fonts, others are system fonts.</p>
        </div>

        <div class="test-controls">
          <h3>Font Controls</h3>
          <p>Click any button to change the font theme:</p>
          <div class="control-buttons">
            <button class="test-btn active" data-font="default" onclick="testFontTheme('default')">Default Brand</button>
            <button class="test-btn" data-font="system" onclick="testFontTheme('system')">System</button>
            <button class="test-btn" data-font="dyslexic" onclick="testFontTheme('dyslexic')">OpenDyslexic</button>
            <button class="test-btn" data-font="lexend" onclick="testFontTheme('lexend')">Lexend</button>
            <button class="test-btn" data-font="readable" onclick="testFontTheme('readable')">Readable</button>
          </div>
        </div>

        <div class="test-status" id="font-test-status">
          <p><strong>Current:</strong> Default brand fonts</p>
        </div>
      </section>

      <!-- Reset Controls Section -->
      <section class="test-section">
        <h2>Reset Accessibility Settings</h2>

        <div class="test-info">
          <h3>Reset All Settings</h3>
          <p>Reset all accessibility settings back to the default brand theme.</p>
          <ul>
            <li><strong>Background:</strong> Back to beige theme</li>
            <li><strong>Line Spacing:</strong> Back to typography system defaults</li>
            <li><strong>Character Spacing:</strong> Back to typography system defaults</li>
            <li><strong>Font Theme:</strong> Back to brand fonts from client.config.js</li>
          </ul>
        </div>

        <div class="test-controls">
          <h3>Reset Controls</h3>
          <p>Click to restore all default settings:</p>
          <div class="control-buttons">
            <button class="test-btn reset-btn" onclick="resetAllAccessibility()">Reset All Settings</button>
          </div>
        </div>
      </section>

      <!-- Theme Information -->
      <section class="test-section">
        <h2>Theme Architecture</h2>
        <div class="theme-info">
          <h3>Brand Tokens (client.config.js)</h3>
          <ul>
            <li><strong>Configurable:</strong> Primary, secondary, accent colors</li>
            <li><strong>Typography:</strong> Font families for body, headers, code</li>
            <li><strong>Brand text/background:</strong> Default theme colors</li>
            <li><strong>SEO & Contact:</strong> Site metadata and contact info</li>
          </ul>

          <h3>Accessibility Tokens (styles/accessibility/theme.css)</h3>
          <ul>
            <li><strong>Hardcoded:</strong> 7 predefined accessibility themes</li>
            <li><strong>Separate from brand:</strong> Won't change when brand updates</li>
            <li><strong>Background/text only:</strong> Brand colors remain consistent</li>
            <li><strong>DOM override:</strong> data-accessibility-bg="theme-name"</li>
          </ul>

          <h3>Global CSS (styles/global.css)</h3>
          <ul>
            <li><strong>Combines:</strong> Brand tokens + accessibility tokens + system tokens</li>
            <li><strong>Working variables:</strong> --color-* used throughout the site</li>
            <li><strong>Theme aliases:</strong> --theme-* for backwards compatibility</li>
            <li><strong>Import structure:</strong> base.css â†’ accessibility/theme.css</li>
          </ul>
        </div>
      </section>


    <!-- Real Content Example Section (no fancy testing styles) -->
    <div class="content-example">
      <div class="container">

        <!-- Hero Section Example -->
        <section class="hero-example">
          <h1 class="display-1">Welcome to Our Business</h1>
          <p class="subtitle-1">Professional services that deliver exceptional results</p>
          <p class="body-1">This is an example of how your actual content will look with proper spacing, typography, and responsive behavior. No fancy hover effects or testing borders - just clean, professional layout.</p>
          <div class="cta-buttons">
            <LinkButton text="Get Started" variant="primary" size="large" href="#" />
            <LinkButton text="Learn More" variant="secondary" size="large" href="#" />
          </div>
        </section>

        <!-- Content Grid Example -->
        <section class="content-grid-example">
          <h2 class="h2-caps">Our Services</h2>
          <p class="body-2">Here's how content looks in a standard grid layout with proper margins and breakpoints.</p>

          <div class="services-grid">
            <div class="service-card">
              <h3>Web Development</h3>
              <p class="body-2">Professional websites built with modern technologies and best practices.</p>
              <AccessibilityButton text="Learn More" />
            </div>

            <div class="service-card">
              <h3>Brand Design</h3>
              <p class="body-2">Complete brand identity design that makes your business stand out.</p>
              <AccessibilityButton text="Learn More" />
            </div>

            <div class="service-card">
              <h3>Digital Marketing</h3>
              <p class="body-2">Strategic marketing campaigns that drive results and growth.</p>
              <AccessibilityButton text="Learn More" />
            </div>
          </div>
        </section>

        <!-- Text Content Example -->
        <section class="text-content-example">
          <h2>About Our Company</h2>
          <div class="text-columns">
            <div class="column">
              <p class="body-1">This section demonstrates how longer text content flows and breaks across different screen sizes. The typography system ensures consistent reading experience.</p>
              <p class="body-2">Regular paragraphs maintain proper line height and spacing for optimal readability. The responsive design adapts seamlessly from desktop to mobile.</p>
            </div>
            <div class="column">
              <p class="body-2">Secondary columns show how content can be organized in multi-column layouts while maintaining proper margins and spacing.</p>
              <p class="body-small">Smaller text is used for supplementary information and details that don't need as much visual weight.</p>
            </div>
          </div>
        </section>

      </div>
    </div>
  </div>
</Layout>

<style>
  .theme-test-page {
    max-width: 1200px;
    margin: 0 auto;
    position: relative;
  }

  .theme-test-page::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background:
      radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.1) 0%, transparent 50%),
      radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.1) 0%, transparent 50%);
    pointer-events: none;
    z-index: -1;
  }

  .test-section {
    margin-bottom: var(--space-4xl);
    padding: var(--space-2xl);
    background: var(--theme-surface);
    border: 1px solid var(--theme-border);
    border-radius: var(--radius-xl);
    transition: all var(--transition-base);
    position: relative;
    overflow: hidden;
  }

  .test-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 2px;
    background: linear-gradient(90deg, var(--theme-primary), var(--color-accent1, var(--theme-primary)), var(--theme-primary));
    opacity: 0;
    transition: opacity var(--transition-base);
  }

  .test-section:hover {
    background: var(--theme-surface-elevated);
    border-color: var(--theme-primary);
    transform: translateY(-2px);
    box-shadow:
      0 8px 32px rgba(0, 0, 0, 0.08),
      0 4px 16px rgba(0, 0, 0, 0.04);
  }

  .test-section:hover::before {
    opacity: 1;
  }

  .instructions {
    padding: var(--space-lg);
    background: var(--theme-surface);
    border-left: 4px solid var(--theme-primary);
    border-radius: var(--radius-md);
    margin-top: var(--space-lg);
    transition: background var(--transition-base);
  }

  .instructions:hover {
    background: var(--theme-surface-elevated);
  }

  .color-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: var(--space-lg);
    margin-top: var(--space-lg);
  }

  .color-item {
    text-align: center;
  }

  .color-swatch {
    width: 80px;
    height: 80px;
    border-radius: var(--radius-lg);
    margin: 0 auto var(--space-sm);
    border: 2px solid var(--theme-border);
    transition: transform 0.2s ease;
  }

  .color-swatch:hover {
    transform: scale(1.05);
  }

  .bg-primary { background: var(--color-primary); }
  .bg-secondary { background: var(--color-secondary); }
  .bg-accent1 { background: var(--color-accent1); }
  .bg-accent2 { background: var(--color-accent2); }
  .bg-accent3 { background: var(--color-accent3); }

  .button-group {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-lg);
    margin: var(--space-lg) 0;
  }

  .card-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--space-xl);
    margin-top: var(--space-lg);
  }

  .theme-info {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--space-xl);
    margin-top: var(--space-lg);
  }

  .theme-info h3 {
    color: var(--theme-primary);
    margin-bottom: var(--space-md);
  }

  .theme-info ul {
    list-style-position: inside;
    line-height: var(--line-height-relaxed);
  }

  .theme-info li {
    margin-bottom: var(--space-sm);
    color: var(--theme-text-light);
  }

  .text-light {
    color: var(--theme-text-light);
  }

  .text-muted {
    color: var(--theme-text-light);
    opacity: 0.7;
  }

  .typography-group {
    margin-bottom: var(--space-2xl);
    padding: var(--space-lg);
    background: var(--theme-surface);
    border-radius: var(--radius-lg);
    border: 1px solid var(--theme-border);
    transition: background var(--transition-base);
  }

  .typography-group:hover {
    background: var(--theme-surface-elevated);
  }

  .typography-group > h3 {
    color: var(--color-primary);
    margin-bottom: var(--space-lg);
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-semibold);
  }

  .typography-group > * + * {
    margin-top: var(--space-md);
  }

  .display-1, .display-2 {
    margin-bottom: var(--space-md);
  }

  .notification-grid {
    display: grid;
    gap: var(--space-lg);
    margin-top: var(--space-lg);
  }

  /* Page content offset for fixed header */
  .page-content {
    padding-top: 80px; /* Account for thinner fixed header */
  }

  /* Real Content Example Styles (clean, no fancy effects) */
  .content-example {
    margin-top: var(--space-5xl);
    padding-top: var(--space-5xl);
    border-top: 1px solid var(--theme-border);
    background: var(--theme-surface);
  }

  .hero-example {
    text-align: center;
    padding: var(--space-5xl) 0;
    margin-bottom: var(--space-4xl);
  }

  .hero-example h1 {
    margin-bottom: var(--space-lg);
  }

  .hero-example .subtitle-1 {
    margin-bottom: var(--space-xl);
  }

  .hero-example .body-1 {
    max-width: 600px;
    margin: 0 auto var(--space-2xl);
  }

  .cta-buttons {
    display: flex;
    gap: var(--space-lg);
    justify-content: center;
    flex-wrap: wrap;
  }

  .content-grid-example {
    margin-bottom: var(--space-5xl);
  }

  .content-grid-example h2 {
    margin-bottom: var(--space-md);
  }

  .content-grid-example > p {
    margin-bottom: var(--space-2xl);
  }

  .services-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--space-2xl);
  }

  .service-card {
    padding: var(--space-2xl);
    background: var(--theme-surface);
    border: 1px solid var(--theme-border);
    border-radius: var(--radius-lg);
  }

  .service-card h3 {
    margin-bottom: var(--space-lg);
    color: var(--color-primary);
  }

  .service-card p {
    margin-bottom: var(--space-xl);
  }

  .text-content-example {
    margin-bottom: var(--space-5xl);
  }

  .text-content-example h2 {
    margin-bottom: var(--space-xl);
  }

  .text-columns {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--space-2xl);
  }

  .column p {
    margin-bottom: var(--space-lg);
  }

  .column p:last-child {
    margin-bottom: 0;
  }

  @media (max-width: 768px) {
    .test-section {
      padding: var(--space-lg);
    }

    .button-group {
      flex-direction: column;
      align-items: flex-start;
    }

    .color-grid {
      grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
    }

    .theme-info {
      grid-template-columns: 1fr;
    }

    /* Real Content Mobile Styles */
    .hero-example {
      padding: var(--space-3xl) 0;
    }

    .cta-buttons {
      flex-direction: column;
      align-items: center;
    }

    .services-grid {
      grid-template-columns: 1fr;
      gap: var(--space-xl);
    }

    .service-card {
      padding: var(--space-xl);
    }

    .text-columns {
      grid-template-columns: 1fr;
      gap: var(--space-xl);
    }

    /* Adjust page content padding for tablet header */
    .page-content {
      padding-top: 70px;
    }
  }

  @media (max-width: 768px) {
    .page-content {
      padding-top: 65px;
    }
  }

  /* Accessibility Testing Section */
  .accessibility-testing {
    margin-top: var(--space-xl);
  }

  .test-info {
    padding: var(--space-lg);
    background: var(--theme-surface);
    border-radius: var(--radius-lg);
    border: 1px solid var(--theme-border);
    margin-bottom: var(--space-lg);
    transition: background var(--transition-base);
  }

  .test-info:hover {
    background: var(--theme-surface-elevated);
  }

  .test-info h3 {
    color: var(--color-primary);
    margin-bottom: var(--space-md);
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-semibold);
  }

  .test-info ul {
    list-style-position: inside;
    line-height: var(--line-height-relaxed);
  }

  .test-info li {
    margin-bottom: var(--space-sm);
    color: var(--theme-text-light);
  }

  .test-status {
    padding: var(--space-md);
    background: var(--theme-surface);
    border: 1px solid var(--theme-border);
    border-radius: var(--radius-md);
    text-align: center;
  }

  .test-controls {
    padding: var(--space-lg);
    background: var(--theme-surface);
    border-radius: var(--radius-lg);
    border: 1px solid var(--theme-border);
    margin-bottom: var(--space-lg);
    transition: background var(--transition-base);
  }

  .test-controls:hover {
    background: var(--theme-surface-elevated);
  }

  .test-controls h3 {
    color: var(--color-primary);
    margin-bottom: var(--space-sm);
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-semibold);
  }

  .test-controls p {
    margin-bottom: var(--space-md);
    color: var(--theme-text-light);
  }

  .control-buttons {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-sm);
  }

  .test-btn {
    padding: var(--space-sm) var(--space-md);
    background: var(--theme-surface);
    border: 2px solid var(--theme-border);
    border-radius: var(--radius-md);
    color: var(--theme-text);
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-medium);
    cursor: pointer;
    transition: all var(--transition-base);
    white-space: nowrap;
  }

  .test-btn:hover {
    border-color: var(--color-primary);
    background: var(--theme-surface-elevated);
    transform: translateY(-1px);
  }

  .test-btn:focus {
    outline: none;
    border-color: var(--color-primary);
    background: var(--theme-surface-elevated);
    box-shadow: 0 0 0 3px rgba(var(--color-primary-rgb, 74, 144, 226), 0.3);
    transform: translateY(-1px);
  }

  .test-btn:focus-visible {
    outline: 2px solid var(--color-primary);
    outline-offset: 2px;
  }

  .test-btn.active {
    background: var(--color-primary);
    border-color: var(--color-primary);
    color: white;
  }

  .test-btn.reset-btn {
    background: var(--color-secondary);
    border-color: var(--color-secondary);
    color: white;
    font-weight: var(--font-weight-semibold);
  }

  .test-btn.reset-btn:hover {
    background: var(--color-accent3);
    border-color: var(--color-accent3);
    color: white;
  }

  .test-btn.reset-btn:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(var(--color-secondary-rgb, 255, 87, 51), 0.3);
  }

  .test-btn.reset-btn:focus-visible {
    outline: 2px solid var(--color-secondary);
    outline-offset: 2px;
  }

  /* Fix accessibility for .link elements with higher specificity */
  a.link,
  a[href].link {
    color: var(--color-primary) !important;
    text-decoration: underline !important;
    text-decoration-thickness: 1px !important;
    text-underline-offset: 2px !important;
    transition: all var(--transition-base) !important;
  }

  a.link:hover,
  a[href].link:hover {
    color: var(--color-primary-hover, color-mix(in srgb, var(--color-primary) 90%, black 10%)) !important;
    text-decoration-thickness: 2px !important;
  }

  a.link:focus,
  a[href].link:focus {
    outline: none !important;
    color: var(--color-primary) !important;
    background: rgba(74, 144, 226, 0.1) !important;
    border-radius: 4px !important;
    padding: 2px 4px !important;
    margin: -2px -4px !important;
    text-decoration: none !important;
    box-shadow: 0 0 0 2px rgba(74, 144, 226, 0.5) !important;
  }

  a.link:focus-visible,
  a[href].link:focus-visible {
    outline: 3px solid var(--color-primary) !important;
    outline-offset: 2px !important;
  }

  /* Universal link focus styles as fallback */
  a:focus {
    outline: 2px solid #4890e2 !important;
    outline-offset: 2px !important;
    background: rgba(72, 144, 226, 0.1) !important;
    border-radius: 3px !important;
    padding: 1px 2px !important;
    text-decoration: none !important;
  }

  @media (max-width: 768px) {
    .control-buttons {
      justify-content: center;
    }
  }

</style>

<script>
  // Type declarations for Window interface extensions
  declare global {
    interface Window {
      simpleAccessibilityManager: SimpleAccessibilityManager;
      testBackgroundColor: (background: string) => void;
      testLineSpacing: (spacing: string) => void;
      testCharSpacing: (spacing: string) => void;
      resetAllAccessibility: () => void;
    }
  }

  // Simple Accessibility Manager - Background Colors Only
  class SimpleAccessibilityManager {
    settings: {
      colorBackground: string;
      lineSpacing: string;
      charSpacing: string;
      fontTheme: string;
    };

    constructor() {
      this.settings = {
        colorBackground: 'default',
        lineSpacing: 'default',
        charSpacing: 'default',
        fontTheme: 'default'
      };
      this.init();
    }

    init() {
      console.log('Simple accessibility manager initialized');
    }

    // Apply background color setting using CSS tokens
    applyBackground(background: string) {
      const html = document.documentElement;

      console.log('Applying accessibility background:', background);

      // Set the data attribute for all cases - CSS handles the default
      html.setAttribute('data-accessibility-bg', background);

      console.log('Applied accessibility background attribute:', background);
    }

    // Apply line spacing setting
    applyLineSpacing(spacing: string) {
      const html = document.documentElement;

      console.log('Applying line spacing:', spacing);

      // Remove existing line spacing attributes
      html.removeAttribute('data-accessibility-line');

      // Set new line spacing if not default
      if (spacing !== 'default') {
        html.setAttribute('data-accessibility-line', spacing);
      }

      console.log('Applied line spacing attribute:', spacing);
    }

    // Apply character spacing setting
    applyCharSpacing(spacing: string) {
      const html = document.documentElement;

      console.log('Applying character spacing:', spacing);

      // Remove existing char spacing attributes
      html.removeAttribute('data-accessibility-char');

      // Set new char spacing if not default
      if (spacing !== 'default') {
        html.setAttribute('data-accessibility-char', spacing);
      }

      console.log('Applied character spacing attribute:', spacing);
    }

    // Apply font theme setting
    applyFontTheme(theme: string) {
      const html = document.documentElement;

      console.log('Applying font theme:', theme);

      // Remove existing font theme attributes
      html.removeAttribute('data-accessibility-font');

      // Set new font theme if not default
      if (theme !== 'default') {
        html.setAttribute('data-accessibility-font', theme);
      }

      console.log('Applied font theme attribute:', theme);
    }

    // Update setting
    updateSetting(setting: string, value: string) {
      console.log('updateSetting called with:', setting, value);
      if (setting === 'colorBackground') {
        this.settings.colorBackground = value;
        this.applyBackground(value);
      } else if (setting === 'lineSpacing') {
        this.settings.lineSpacing = value;
        this.applyLineSpacing(value);
      } else if (setting === 'charSpacing') {
        this.settings.charSpacing = value;
        this.applyCharSpacing(value);
      } else if (setting === 'fontTheme') {
        this.settings.fontTheme = value;
        this.applyFontTheme(value);
      }
    }

    // Get current setting
    getSetting(setting: string) {
      return this.settings[setting as keyof typeof this.settings];
    }

    // Reset all settings
    resetSettings() {
      this.settings.colorBackground = 'default';
      this.settings.lineSpacing = 'default';
      this.settings.charSpacing = 'default';
      this.settings.fontTheme = 'default';

      this.applyBackground('default');
      this.applyLineSpacing('default');
      this.applyCharSpacing('default');
      this.applyFontTheme('default');

      console.log('All accessibility settings reset to default');
    }
  }

  // Make testBackgroundColor a global function
  window.testBackgroundColor = function(background) {
    console.log('testBackgroundColor called with:', background);
    const statusEl = document.getElementById('accessibility-test-status');

    if (!statusEl) {
      console.error('Status element not found');
      return;
    }

    // Remove active class from all buttons
    document.querySelectorAll('.test-btn').forEach(btn => btn.classList.remove('active'));

    // Add active class to the button that was clicked
    const clickedButton = document.querySelector(`.test-btn[data-background="${background}"]`);
    if (clickedButton) {
      clickedButton.classList.add('active');
    }

    // Apply background using simple accessibility manager
    if (window.simpleAccessibilityManager) {
      console.log('Accessibility manager found, updating setting');
      window.simpleAccessibilityManager.updateSetting('colorBackground', background);

      // Update status
      const displayNames = {
        'default': 'Beige background',
        'cream': 'Cream background',
        'light-gray': 'Light Gray background',
        'light-pink': 'Light Pink background',
        'light-blue': 'Light Blue background',
        'black-white': 'Black & White background'
      };
      const displayName = displayNames[background] || background + ' background';
      statusEl.innerHTML = `<p><strong>Current:</strong> ${displayName}</p>`;
      console.log('Status updated to:', displayName);
    } else {
      console.error('Accessibility manager not found');
      statusEl.innerHTML = `<p><strong>Error:</strong> Accessibility manager not loaded</p>`;
    }
  };

  // Make testLineSpacing a global function
  window.testLineSpacing = function(spacing) {
    console.log('testLineSpacing called with:', spacing);
    const statusEl = document.getElementById('line-test-status');

    if (!statusEl) {
      console.error('Line spacing status element not found');
      return;
    }

    // Remove active class from all line spacing buttons
    document.querySelectorAll('.test-btn[data-line]').forEach(btn => btn.classList.remove('active'));

    // Add active class to the button that was clicked
    const clickedButton = document.querySelector(`.test-btn[data-line="${spacing}"]`);
    if (clickedButton) {
      clickedButton.classList.add('active');
    }

    // Apply line spacing using accessibility manager
    if (window.simpleAccessibilityManager) {
      window.simpleAccessibilityManager.updateSetting('lineSpacing', spacing);

      // Update status
      const displayNames = {
        'default': 'Default line spacing',
        'small': 'Small line spacing (1.4)',
        'medium': 'Medium line spacing (1.6)',
        'large': 'Large line spacing (1.8)',
        'xl': 'XL line spacing (2.2)'
      };
      const displayName = displayNames[spacing] || spacing + ' line spacing';
      statusEl.innerHTML = `<p><strong>Current:</strong> ${displayName}</p>`;
    } else {
      console.error('Accessibility manager not found');
      statusEl.innerHTML = `<p><strong>Error:</strong> Accessibility manager not loaded</p>`;
    }
  };

  // Make testCharSpacing a global function
  window.testCharSpacing = function(spacing) {
    console.log('testCharSpacing called with:', spacing);
    const statusEl = document.getElementById('char-test-status');

    if (!statusEl) {
      console.error('Character spacing status element not found');
      return;
    }

    // Remove active class from all char spacing buttons
    document.querySelectorAll('.test-btn[data-char]').forEach(btn => btn.classList.remove('active'));

    // Add active class to the button that was clicked
    const clickedButton = document.querySelector(`.test-btn[data-char="${spacing}"]`);
    if (clickedButton) {
      clickedButton.classList.add('active');
    }

    // Apply character spacing using accessibility manager
    if (window.simpleAccessibilityManager) {
      window.simpleAccessibilityManager.updateSetting('charSpacing', spacing);

      // Update status
      const displayNames = {
        'default': 'Default character spacing',
        'small': 'Small character spacing (0.025em)',
        'medium': 'Medium character spacing (0.05em)',
        'large': 'Large character spacing (0.1em)',
        'xl': 'XL character spacing (0.15em)'
      };
      const displayName = displayNames[spacing] || spacing + ' character spacing';
      statusEl.innerHTML = `<p><strong>Current:</strong> ${displayName}</p>`;
    } else {
      console.error('Accessibility manager not found');
      statusEl.innerHTML = `<p><strong>Error:</strong> Accessibility manager not loaded</p>`;
    }
  };

  // Make testFontTheme a global function
  window.testFontTheme = function(theme) {
    console.log('testFontTheme called with:', theme);
    const statusEl = document.getElementById('font-test-status');

    if (!statusEl) {
      console.error('Font theme status element not found');
      return;
    }

    // Remove active class from all font theme buttons
    document.querySelectorAll('.test-btn[data-font]').forEach(btn => btn.classList.remove('active'));

    // Add active class to the button that was clicked
    const clickedButton = document.querySelector(`.test-btn[data-font="${theme}"]`);
    if (clickedButton) {
      clickedButton.classList.add('active');
    }

    // Apply font theme using accessibility manager
    if (window.simpleAccessibilityManager) {
      window.simpleAccessibilityManager.updateSetting('fontTheme', theme);

      // Update status
      const displayNames = {
        'default': 'Default brand fonts',
        'system': 'System fonts (Inter, Helvetica, Arial)',
        'dyslexic': 'OpenDyslexic font',
        'lexend': 'Lexend font',
        'readable': 'Readable system fonts'
      };
      const displayName = displayNames[theme] || theme + ' font theme';
      statusEl.innerHTML = `<p><strong>Current:</strong> ${displayName}</p>`;
    } else {
      console.error('Accessibility manager not found');
      statusEl.innerHTML = `<p><strong>Error:</strong> Accessibility manager not loaded</p>`;
    }
  };

  // Make resetAllAccessibility a global function
  window.resetAllAccessibility = function() {
    console.log('resetAllAccessibility called');

    if (window.simpleAccessibilityManager) {
      // Reset all settings
      window.simpleAccessibilityManager.resetSettings();

      // Reset all button states
      document.querySelectorAll('.test-btn').forEach(btn => btn.classList.remove('active'));

      // Set default buttons as active
      const defaultBgBtn = document.querySelector('.test-btn[data-background="default"]');
      const defaultLineBtn = document.querySelector('.test-btn[data-line="default"]');
      const defaultCharBtn = document.querySelector('.test-btn[data-char="default"]');
      const defaultFontBtn = document.querySelector('.test-btn[data-font="default"]');

      if (defaultBgBtn) defaultBgBtn.classList.add('active');
      if (defaultLineBtn) defaultLineBtn.classList.add('active');
      if (defaultCharBtn) defaultCharBtn.classList.add('active');
      if (defaultFontBtn) defaultFontBtn.classList.add('active');

      // Update all status displays
      const bgStatus = document.getElementById('accessibility-test-status');
      const lineStatus = document.getElementById('line-test-status');
      const charStatus = document.getElementById('char-test-status');
      const fontStatus = document.getElementById('font-test-status');

      if (bgStatus) bgStatus.innerHTML = `<p><strong>Current:</strong> Beige background</p>`;
      if (lineStatus) lineStatus.innerHTML = `<p><strong>Current:</strong> Default line spacing</p>`;
      if (charStatus) charStatus.innerHTML = `<p><strong>Current:</strong> Default character spacing</p>`;
      if (fontStatus) fontStatus.innerHTML = `<p><strong>Current:</strong> Default brand fonts</p>`;

      console.log('All accessibility settings reset and UI updated');
    } else {
      console.error('Accessibility manager not found');
    }
  };

  // Initialize when DOM is loaded
  document.addEventListener('DOMContentLoaded', () => {
    console.log('DOM loaded, initializing accessibility manager');

    try {
      window.simpleAccessibilityManager = new SimpleAccessibilityManager();
      console.log('Accessibility manager created successfully');

      // Verify it's accessible globally
      if (window.simpleAccessibilityManager) {
        console.log('Accessibility manager is globally accessible');
      }

    } catch (error) {
      console.error('Error creating accessibility manager:', error);
    }

    // Set up event listeners for background test buttons
    const testButtons = document.querySelectorAll('.test-btn[data-background]');
    console.log('Found test buttons:', testButtons.length);
    console.log('Test buttons found:', testButtons);

    // Note: Using onclick handlers directly on buttons instead of event listeners
    // This ensures the buttons work even if the DOM is not fully loaded

    // Check if it loaded properly after a short delay
    setTimeout(() => {
      if (!window.simpleAccessibilityManager) {
        console.error('Accessibility manager failed to load');
        const statusEl = document.getElementById('accessibility-test-status');
        if (statusEl) {
          statusEl.innerHTML = `<p><strong>Error:</strong> Simple accessibility manager failed to load</p>`;
        }
      } else {
        console.log('Accessibility manager loaded successfully');
      }
    }, 500);
  });
</script>